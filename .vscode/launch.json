{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug 1-nest-intro (with DB)",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/1-nest-intro/src/main.ts",
      "args": [],
      "cwd": "${workspaceFolder}/projects/1-nest-intro",
      "runtimeArgs": [
        "--nolazy",
        "-r",
        "ts-node/register",
        "-r",
        "tsconfig-paths/register"
      ],
      "env": {
        "NODE_ENV": "development",
        "PORT": "3000",
        "DB_HOST": "localhost",
        "DB_PORT": "5432",
        "DB_USER": "postgres",
        "DB_PASSWORD": "postgres",
        "DB_DATABASE": "tasks",
        "DB_SYNC": "true",
        "APP_MESSAGE_PREFIX": "Hello",
        // ğŸ”§ æ–°å¢ï¼šæŒ‡å®š ts-node ä½¿ç”¨çš„ tsconfig.json æ–‡ä»¶
        "TS_NODE_PROJECT": "${workspaceFolder}/projects/1-nest-intro/tsconfig.json",
        // ğŸ”§ æ–°å¢ï¼šè¦†ç›– TypeScript ç¼–è¯‘å™¨é€‰é¡¹ï¼Œç¦ç”¨ä¼˜åŒ–ä»¥æ”¯æŒè°ƒè¯•
        "TS_NODE_COMPILER_OPTIONS": "{\"removeComments\":false,\"preserveConstEnums\":true,\"sourceMap\":true,\"inlineSourceMap\":false,\"inlineSources\":true}"
      },
      "console": "integratedTerminal",
      "restart": true,
      "skipFiles": ["<node_internals>/**", "node_modules/**"],
      "sourceMaps": true,
      "outFiles": ["${workspaceFolder}/projects/1-nest-intro/dist/**/*.js"],
      "resolveSourceMapLocations": [
        "${workspaceFolder}/projects/1-nest-intro/**",
        "!**/node_modules/**"
      ]
    },
    {
      "name": "Debug 2-nest-ioc (no DB)",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/2-demo/src/main.ts",
      "args": [],
      "cwd": "${workspaceFolder}/projects/2-demo",

      // ğŸ”§ å…³é”®æ”¹è¿›ï¼šæ·»åŠ  ts-node/register ç”¨äºç›´æ¥è¿è¡Œ TypeScript
      // tsconfig-paths/register ç”¨äºè§£æè·¯å¾„åˆ«åï¼ˆå¦‚ @/ ç­‰ï¼‰
      "runtimeArgs": [
        "--nolazy", // ç¦ç”¨V8å»¶è¿Ÿç¼–è¯‘ï¼Œç¡®ä¿æ‰€æœ‰ä»£ç éƒ½è¢«ç¼–è¯‘
        "-r",
        "ts-node/register", // ğŸ†• è®©Node.jsèƒ½ç›´æ¥è¿è¡ŒTypeScriptæ–‡ä»¶
        "-r",
        "tsconfig-paths/register" // æ”¯æŒTypeScriptè·¯å¾„æ˜ å°„
      ],

      "env": {
        "NODE_ENV": "development",
        "PORT": "3000",

        // ğŸ”§ æŒ‡å®šts-nodeä½¿ç”¨çš„é…ç½®æ–‡ä»¶è·¯å¾„
        "TS_NODE_PROJECT": "${workspaceFolder}/projects/2-demo/tsconfig.json",

        // ğŸ”§ å…³é”®æ”¹è¿›ï¼šä¼˜åŒ–TypeScriptç¼–è¯‘é€‰é¡¹ä»¥æ”¯æŒè°ƒè¯•
        // removeComments: false - ä¿ç•™æ³¨é‡Šï¼Œé˜²æ­¢è°ƒè¯•ä¿¡æ¯è¢«åˆ é™¤
        // preserveConstEnums: true - ä¿ç•™ const enumï¼Œé˜²æ­¢è¢«ä¼˜åŒ–
        // sourceMap: true - ç”Ÿæˆæºç æ˜ å°„
        // inlineSourceMap: false - ä¸å†…è”æºç æ˜ å°„ï¼Œç”Ÿæˆç‹¬ç«‹æ–‡ä»¶
        // inlineSources: true - å†…è”æºç å†…å®¹åˆ°æºç æ˜ å°„ä¸­
        // noEmitOnError: false - å³ä½¿æœ‰é”™è¯¯ä¹Ÿè¾“å‡ºï¼Œä¾¿äºè°ƒè¯•
        // noEmit: false - å…è®¸è¾“å‡ºæ–‡ä»¶
        "TS_NODE_COMPILER_OPTIONS": "{\"sourceMap\":true,\"inlineSourceMap\":false,\"inlineSources\":true,\"removeComments\":false,\"preserveConstEnums\":true,\"noEmitOnError\":false,\"noEmit\":false,\"declaration\":false,\"declarationMap\":false,\"incremental\":false,\"tsBuildInfoFile\":null,\"importHelpers\":false,\"skipLibCheck\":true,\"allowSyntheticDefaultImports\":true,\"esModuleInterop\":true}",

        // ğŸ”§ æ–°å¢ï¼šts-nodeé¢å¤–é€‰é¡¹ - ç¡®ä¿å®Œæ•´çš„TypeScriptæ”¯æŒ
        "TS_NODE_TRANSPILE_ONLY": "false", // ğŸ†• ä¸ä»…è½¬è¯‘ï¼Œä¹Ÿè¿›è¡Œç±»å‹æ£€æŸ¥
        "TS_NODE_TYPE_CHECK": "true", // ğŸ†• å¯ç”¨ç±»å‹æ£€æŸ¥
        "TS_NODE_FILES": "true", // ğŸ†• å¤„ç†fileså­—æ®µä¸­çš„æ–‡ä»¶
        "TS_NODE_COMPILER": "typescript", // ğŸ†• æ˜ç¡®æŒ‡å®šä½¿ç”¨typescriptç¼–è¯‘å™¨
        "TS_NODE_PREFER_TS_EXTS": "true" // ğŸ†• ä¼˜å…ˆä½¿ç”¨.tsæ‰©å±•å
      },

      "console": "integratedTerminal",
      "restart": true,

      // ğŸ”§ æ”¹è¿›ï¼šæ›´ç²¾ç¡®çš„skipFilesé…ç½®
      "skipFiles": [
        "<node_internals>/**", // è·³è¿‡Node.jså†…éƒ¨ä»£ç 
        "**/node_modules/**", // è·³è¿‡æ‰€æœ‰ä¾èµ–åŒ…
        "!**/node_modules/ts-node/**", // ğŸ†• ä½†ä¸è·³è¿‡ts-nodeï¼ˆè°ƒè¯•æ—¶å¯èƒ½éœ€è¦ï¼‰
        "${workspaceFolder}/projects/2-demo/node_modules/@nestjs/**", // ç‰¹åˆ«è·³è¿‡NestJSæ¡†æ¶
        "${workspaceFolder}/projects/2-demo/node_modules/express/**", // è·³è¿‡Express
        "**/route-execution-context.js", // è·³è¿‡ç‰¹å®šæ–‡ä»¶
        "**/router-execution-context.js"
      ],

      // ğŸ”§ å…³é”®æ”¹è¿›ï¼šæºç æ˜ å°„é…ç½®ä¼˜åŒ–
      "sourceMaps": true, // å¯ç”¨æºç æ˜ å°„æ”¯æŒ

      // ğŸ”§ æ”¹è¿›ï¼šæ›´ç²¾ç¡®çš„æºç æ˜ å°„è§£æä½ç½®
      "resolveSourceMapLocations": [
        // å‘Šè¯‰è°ƒè¯•å™¨åœ¨ src ç›®å½•ä¸­æŸ¥æ‰¾æºç æ˜ å°„æ–‡ä»¶ï¼Œç¡®ä¿è°ƒè¯•å™¨èƒ½æ‰¾åˆ°æ­£ç¡®çš„ TypeScript æºæ–‡ä»¶
        "${workspaceFolder}/projects/2-demo/src/**", // ğŸ†• åªåœ¨srcç›®å½•ä¸­è§£æ
        "${workspaceFolder}/projects/2-demo/**/*.ts",
        // æ’é™¤ node_modules ä¸­çš„æ–‡ä»¶ï¼Œé¿å…è°ƒè¯•å™¨åœ¨ä¾èµ–åŒ…ä¸­æŸ¥æ‰¾æºç æ˜ å°„
        "!**/node_modules/**",
        // æ’é™¤ç¼–è¯‘è¾“å‡ºç›®å½•ï¼Œé¿å…è°ƒè¯•å™¨ä½¿ç”¨ç¼–è¯‘åçš„æ–‡ä»¶
        "!**/dist/**"
      ],

      // ğŸ”§ æ–°å¢ï¼šè°ƒè¯•æ—¶çš„é¢å¤–é…ç½® - ä¼˜åŒ–è°ƒè¯•ä½“éªŒ
      "smartStep": true, // æ™ºèƒ½å•æ­¥æ‰§è¡Œï¼Œè·³è¿‡ç”Ÿæˆçš„ä»£ç 
      "pauseForSourceMap": false, // ä¸ä¸ºæºç æ˜ å°„æš‚åœï¼Œæé«˜è°ƒè¯•å¯åŠ¨é€Ÿåº¦
      "autoAttachChildProcesses": true // è‡ªåŠ¨é™„åŠ åˆ°å­è¿›ç¨‹ï¼Œæ”¯æŒè°ƒè¯•å¤šè¿›ç¨‹åº”ç”¨
    },
    {
      "name": "Test 1-nest-intro",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/1-nest-intro/node_modules/.bin/jest",
      "args": ["--runInBand", "--no-cache"],
      "cwd": "${workspaceFolder}/projects/1-nest-intro",
      "runtimeArgs": [
        "--inspect-brk",
        "-r",
        "ts-node/register",
        "-r",
        "tsconfig-paths/register"
      ],
      "env": {
        "NODE_ENV": "test",
        // ğŸ”§ æ–°å¢ï¼šæŒ‡å®š ts-node ä½¿ç”¨çš„ tsconfig.json æ–‡ä»¶
        "TS_NODE_PROJECT": "${workspaceFolder}/projects/1-nest-intro/tsconfig.json",
        // ğŸ”§ æ–°å¢ï¼šè¦†ç›– TypeScript ç¼–è¯‘å™¨é€‰é¡¹ï¼Œç¦ç”¨ä¼˜åŒ–ä»¥æ”¯æŒè°ƒè¯•
        "TS_NODE_COMPILER_OPTIONS": "{\"removeComments\":false,\"preserveConstEnums\":true,\"sourceMap\":true,\"inlineSourceMap\":false,\"inlineSources\":true}"
      },
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**", "node_modules/**"],
      "sourceMaps": true,
      "outFiles": ["${workspaceFolder}/projects/1-nest-intro/dist/**/*.js"]
    },
    {
      "name": "Test 2-nest-ioc",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/2-demo/node_modules/.bin/jest",
      "args": ["--runInBand", "--no-cache"],
      "cwd": "${workspaceFolder}/projects/2-demo",
      "runtimeArgs": [
        "--inspect-brk",
        "-r",
        "ts-node/register",
        "-r",
        "tsconfig-paths/register"
      ],
      "env": {
        "NODE_ENV": "test",
        // ğŸ”§ æ–°å¢ï¼šæŒ‡å®š ts-node ä½¿ç”¨çš„ tsconfig.json æ–‡ä»¶
        "TS_NODE_PROJECT": "${workspaceFolder}/projects/2-demo/tsconfig.json",
        // ğŸ”§ æ–°å¢ï¼šè¦†ç›– TypeScript ç¼–è¯‘å™¨é€‰é¡¹ï¼Œç¦ç”¨ä¼˜åŒ–ä»¥æ”¯æŒè°ƒè¯•
        "TS_NODE_COMPILER_OPTIONS": "{\"removeComments\":false,\"preserveConstEnums\":true,\"sourceMap\":true,\"inlineSourceMap\":false,\"inlineSources\":true}"
      },
      "console": "integratedTerminal",

      "skipFiles": ["<node_internals>/**", "node_modules/**"],
      "sourceMaps": true,
      "outFiles": ["${workspaceFolder}/projects/2-demo/dist/**/*.js"]
    },
    {
      "name": "E2E Test 1-nest-intro",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/1-nest-intro/node_modules/.bin/jest",
      "args": ["--config", "./test/jest-e2e.json", "--runInBand"],
      "cwd": "${workspaceFolder}/projects/1-nest-intro",
      "runtimeArgs": [
        "--inspect-brk",
        "-r",
        "ts-node/register",
        "-r",
        "tsconfig-paths/register"
      ],
      "env": {
        "NODE_ENV": "test",
        // ğŸ”§ æ–°å¢ï¼šæŒ‡å®š ts-node ä½¿ç”¨çš„ tsconfig.json æ–‡ä»¶
        "TS_NODE_PROJECT": "${workspaceFolder}/projects/1-nest-intro/tsconfig.json",
        // ğŸ”§ æ–°å¢ï¼šè¦†ç›– TypeScript ç¼–è¯‘å™¨é€‰é¡¹ï¼Œç¦ç”¨ä¼˜åŒ–ä»¥æ”¯æŒè°ƒè¯•
        "TS_NODE_COMPILER_OPTIONS": "{\"removeComments\":false,\"preserveConstEnums\":true,\"sourceMap\":true,\"inlineSourceMap\":false,\"inlineSources\":true}"
      },
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**", "node_modules/**"],
      "sourceMaps": true,
      "outFiles": ["${workspaceFolder}/projects/1-nest-intro/dist/**/*.js"]
    },
    {
      "name": "E2E Test 2-nest-ioc",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/2-demo/node_modules/.bin/jest",
      "args": ["--config", "./test/jest-e2e.json", "--runInBand"],
      "cwd": "${workspaceFolder}/projects/2-demo",
      "runtimeArgs": [
        "--inspect-brk",
        "-r",
        "ts-node/register",
        "-r",
        "tsconfig-paths/register"
      ],
      "env": {
        "NODE_ENV": "test",
        // ğŸ”§ æ–°å¢ï¼šæŒ‡å®š ts-node ä½¿ç”¨çš„ tsconfig.json æ–‡ä»¶
        "TS_NODE_PROJECT": "${workspaceFolder}/projects/2-demo/tsconfig.json",
        // ğŸ”§ æ–°å¢ï¼šè¦†ç›– TypeScript ç¼–è¯‘å™¨é€‰é¡¹ï¼Œç¦ç”¨ä¼˜åŒ–ä»¥æ”¯æŒè°ƒè¯•
        "TS_NODE_COMPILER_OPTIONS": "{\"removeComments\":false,\"preserveConstEnums\":true,\"sourceMap\":true,\"inlineSourceMap\":false,\"inlineSources\":true}"
      },
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**", "node_modules/**"],
      "sourceMaps": true,
      "outFiles": ["${workspaceFolder}/projects/2-demo/dist/**/*.js"]
    },
    {
      "name": "Debug 5-context-demo (no DB)",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/5-context-demo/src/main.ts",
      "args": [],
      "cwd": "${workspaceFolder}/projects/5-context-demo",

      // ğŸ”§ å…³é”®æ”¹è¿›ï¼šæ·»åŠ  ts-node/register ç”¨äºç›´æ¥è¿è¡Œ TypeScript
      // tsconfig-paths/register ç”¨äºè§£æè·¯å¾„åˆ«åï¼ˆå¦‚ @/ ç­‰ï¼‰
      "runtimeArgs": [
        "--nolazy", // ç¦ç”¨V8å»¶è¿Ÿç¼–è¯‘ï¼Œç¡®ä¿æ‰€æœ‰ä»£ç éƒ½è¢«ç¼–è¯‘
        "-r",
        "ts-node/register", // ğŸ†• è®©Node.jsèƒ½ç›´æ¥è¿è¡ŒTypeScriptæ–‡ä»¶
        "-r",
        "tsconfig-paths/register" // æ”¯æŒTypeScriptè·¯å¾„æ˜ å°„
      ],

      "env": {
        "NODE_ENV": "development",
        "PORT": "3000",

        // ğŸ”§ æŒ‡å®šts-nodeä½¿ç”¨çš„é…ç½®æ–‡ä»¶è·¯å¾„
        "TS_NODE_PROJECT": "${workspaceFolder}/projects/5-context-demo/tsconfig.json",

        // ğŸ”§ å…³é”®æ”¹è¿›ï¼šä¼˜åŒ–TypeScriptç¼–è¯‘é€‰é¡¹ä»¥æ”¯æŒè°ƒè¯•
        // removeComments: false - ä¿ç•™æ³¨é‡Šï¼Œé˜²æ­¢è°ƒè¯•ä¿¡æ¯è¢«åˆ é™¤
        // preserveConstEnums: true - ä¿ç•™ const enumï¼Œé˜²æ­¢è¢«ä¼˜åŒ–
        // sourceMap: true - ç”Ÿæˆæºç æ˜ å°„
        // inlineSourceMap: false - ä¸å†…è”æºç æ˜ å°„ï¼Œç”Ÿæˆç‹¬ç«‹æ–‡ä»¶
        // inlineSources: true - å†…è”æºç å†…å®¹åˆ°æºç æ˜ å°„ä¸­
        // noEmitOnError: false - å³ä½¿æœ‰é”™è¯¯ä¹Ÿè¾“å‡ºï¼Œä¾¿äºè°ƒè¯•
        // noEmit: false - å…è®¸è¾“å‡ºæ–‡ä»¶
        "TS_NODE_COMPILER_OPTIONS": "{\"sourceMap\":true,\"inlineSourceMap\":false,\"inlineSources\":true,\"removeComments\":false,\"preserveConstEnums\":true,\"noEmitOnError\":false,\"noEmit\":false,\"declaration\":false,\"declarationMap\":false,\"incremental\":false,\"tsBuildInfoFile\":null,\"importHelpers\":false,\"skipLibCheck\":true,\"allowSyntheticDefaultImports\":true,\"esModuleInterop\":true}",

        // ğŸ”§ æ–°å¢ï¼šts-nodeé¢å¤–é€‰é¡¹ - ç¡®ä¿å®Œæ•´çš„TypeScriptæ”¯æŒ
        "TS_NODE_TRANSPILE_ONLY": "false", // ğŸ†• ä¸ä»…è½¬è¯‘ï¼Œä¹Ÿè¿›è¡Œç±»å‹æ£€æŸ¥
        "TS_NODE_TYPE_CHECK": "true", // ğŸ†• å¯ç”¨ç±»å‹æ£€æŸ¥
        "TS_NODE_FILES": "true", // ğŸ†• å¤„ç†fileså­—æ®µä¸­çš„æ–‡ä»¶
        "TS_NODE_COMPILER": "typescript", // ğŸ†• æ˜ç¡®æŒ‡å®šä½¿ç”¨typescriptç¼–è¯‘å™¨
        "TS_NODE_PREFER_TS_EXTS": "true" // ğŸ†• ä¼˜å…ˆä½¿ç”¨.tsæ‰©å±•å
      },

      "console": "integratedTerminal",
      "restart": true,

      // ğŸ”§ æ”¹è¿›ï¼šæ›´ç²¾ç¡®çš„skipFilesé…ç½®
      "skipFiles": [
        "<node_internals>/**", // è·³è¿‡Node.jså†…éƒ¨ä»£ç 
        "**/node_modules/**", // è·³è¿‡æ‰€æœ‰ä¾èµ–åŒ…
        "!**/node_modules/ts-node/**", // ğŸ†• ä½†ä¸è·³è¿‡ts-nodeï¼ˆè°ƒè¯•æ—¶å¯èƒ½éœ€è¦ï¼‰
        "${workspaceFolder}/projects/5-context-demo/node_modules/@nestjs/**", // ç‰¹åˆ«è·³è¿‡NestJSæ¡†æ¶
        "${workspaceFolder}/projects/5-context-demo/node_modules/express/**", // è·³è¿‡Express
        "**/route-execution-context.js", // è·³è¿‡ç‰¹å®šæ–‡ä»¶
        "**/router-execution-context.js"
      ],

      // ğŸ”§ å…³é”®æ”¹è¿›ï¼šæºç æ˜ å°„é…ç½®ä¼˜åŒ–
      "sourceMaps": true, // å¯ç”¨æºç æ˜ å°„æ”¯æŒ

      // ğŸ”§ æ”¹è¿›ï¼šæ›´ç²¾ç¡®çš„æºç æ˜ å°„è§£æä½ç½®
      "resolveSourceMapLocations": [
        // å‘Šè¯‰è°ƒè¯•å™¨åœ¨ src ç›®å½•ä¸­æŸ¥æ‰¾æºç æ˜ å°„æ–‡ä»¶ï¼Œç¡®ä¿è°ƒè¯•å™¨èƒ½æ‰¾åˆ°æ­£ç¡®çš„ TypeScript æºæ–‡ä»¶
        "${workspaceFolder}/projects/5-context-demo/src/**", // ğŸ†• åªåœ¨srcç›®å½•ä¸­è§£æ
        "${workspaceFolder}/projects/5-context-demo/**/*.ts",
        // æ’é™¤ node_modules ä¸­çš„æ–‡ä»¶ï¼Œé¿å…è°ƒè¯•å™¨åœ¨ä¾èµ–åŒ…ä¸­æŸ¥æ‰¾æºç æ˜ å°„
        "!**/node_modules/**",
        // æ’é™¤ç¼–è¯‘è¾“å‡ºç›®å½•ï¼Œé¿å…è°ƒè¯•å™¨ä½¿ç”¨ç¼–è¯‘åçš„æ–‡ä»¶
        "!**/dist/**"
      ],

      // ğŸ”§ æ–°å¢ï¼šè°ƒè¯•æ—¶çš„é¢å¤–é…ç½® - ä¼˜åŒ–è°ƒè¯•ä½“éªŒ
      "smartStep": true, // æ™ºèƒ½å•æ­¥æ‰§è¡Œï¼Œè·³è¿‡ç”Ÿæˆçš„ä»£ç 
      "pauseForSourceMap": false, // ä¸ä¸ºæºç æ˜ å°„æš‚åœï¼Œæé«˜è°ƒè¯•å¯åŠ¨é€Ÿåº¦
      "autoAttachChildProcesses": true // è‡ªåŠ¨é™„åŠ åˆ°å­è¿›ç¨‹ï¼Œæ”¯æŒè°ƒè¯•å¤šè¿›ç¨‹åº”ç”¨
    },
    {
      "name": "10-book-store-admin",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/projects/10-book-store-admin/src/main.ts",
      "cwd": "${workspaceFolder}/projects/10-book-store-admin",
      "runtimeArgs": ["-r", "ts-node/register"],
      "env": {
        "NODE_ENV": "development",
        "PORT": "3000"
      },
      "console": "integratedTerminal",
      "restart": true,
      "sourceMaps": true,
      "skipFiles": ["<node_internals>/**", "**/node_modules/**"]
    },
    {
      "name": "10-book-store-ui",
      "type": "chrome",
      "request": "launch",
      "url": "http://localhost:5173",
      "webRoot": "${workspaceFolder}/projects/10-book-store-ui/src",
      "sourceMapPathOverrides": {
        "/@fs/*": "${workspaceFolder}/*",
        "/src/*": "${webRoot}/*"
      },
      "skipFiles": [
        "<node_internals>/**",
        "**/node_modules/**",
        "**/vite/**",
        "**/react/**",
        "**/react-dom/**",
        "**/react-refresh/**",
        "**/@vitejs/**",
        "**/esbuild/**",
        "**/rollup/**",
        "**/webpack/**",
        "**/chunk-*.js",
        "**/vendor-*.js",
        "**/*.hot-update.js",
        "**/hot-update.js",
        "**/@react-refresh/**",
        "**/react-refresh-runtime/**",
        "**/react-refresh-dom/**"
      ],
      "smartStep": true
    }
  ]
}
